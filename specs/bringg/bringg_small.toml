[setup]
statement_files = ["sql/bringg_setup.sql"]

[[queries]]
name = "New History Page Main Query - Merchant #1"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 1
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Merchant #2"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 2
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Merchant #3"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 3
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Merchant #4"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 4
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Merchant #5"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 5
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Merchant #1"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 1
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Merchant #2"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 2
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Merchant #3"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 3
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Merchant #4"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 4
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Merchant #5"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 5
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Single Team - Merchant #1"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 1
    and team_id = 6
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Single Team - Merchant #2"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 2
    and team_id = 6
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Single Team - Merchant #3"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 3
    and team_id = 6
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Single Team - Merchant #4"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 4
    and team_id = 6
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Single Team - Merchant #5"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 5
    and team_id = 6
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Single Team - Merchant #1"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 1
    and team_id = 6
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Single Team - Merchant #2"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 2
    and team_id = 6
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Single Team - Merchant #3"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 3
    and team_id = 6
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Single Team - Merchant #4"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 4
    and team_id = 6
'''
iterations = 1000
concurrency = 10


[[queries]]
name = "New History Page Count Query - Single Team - Merchant #5"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 5
    and team_id = 6
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Many Teams - Merchant #1"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 1
    and team_id in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200)
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Many Teams - Merchant #2"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 2
    and team_id in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200)
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Many Teams - Merchant #3"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 3
    and team_id in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200)
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Many Teams - Merchant #4"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 4
    and team_id in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200)
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Many Teams - Merchant #5"
statement = '''
  select 
    distinct id 
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 5
    and team_id in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200)
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Many Teams - Merchant #1"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 1
    and team_id in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200)
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Many Teams - Merchant #2"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 2
    and team_id in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200)
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Many Teams - Merchant #3"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 3
    and team_id in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200)
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Many Teams - Merchant #4"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 4
    and team_id in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200)
'''
iterations = 1000
concurrency = 10


[[queries]]
name = "New History Page Count Query - Many Teams - Merchant #5"
statement = '''
  select 
    count(*)
  from 
    tasks 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and merchant_id = 5
    and team_id in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200)
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - First WP Customer Name - Merchant #1"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and position = 1
    and match(c.name_ngram, 'Ste') using phrase with (analyzer='full_search_analyzer')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - First WP Customer Name - Merchant #2"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and position = 1
    and match(c.name_ngram, 'Ste') using phrase with (analyzer='full_search_analyzer')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - First WP Customer Name - Merchant #3"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and position = 1
    and match(c.name_ngram, 'Ste') using phrase with (analyzer='full_search_analyzer')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - First WP Customer Name - Merchant #4"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and position = 1
    and match(c.name_ngram, 'Ste') using phrase with (analyzer='full_search_analyzer')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - First WP Customer Name - Merchant #5"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and position = 1
    and match(c.name_ngram, 'Ste') using phrase with (analyzer='full_search_analyzer')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - First WP Customer Name - Merchant #1"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and position = 1
    and match(c.name_ngram, 'Ste') using phrase with (analyzer='full_search_analyzer');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - First WP Customer Name - Merchant #2"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and position = 1
    and match(c.name_ngram, 'Ste') using phrase with (analyzer='full_search_analyzer');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - First WP Customer Name - Merchant #3"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and position = 1
    and match(c.name_ngram, 'Ste') using phrase with (analyzer='full_search_analyzer');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - First WP Customer Name - Merchant #4"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and position = 1
    and match(c.name_ngram, 'Ste') using phrase with (analyzer='full_search_analyzer');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - First WP Customer Name - Merchant #5"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and position = 1
    and match(c.name_ngram, 'Ste') using phrase with (analyzer='full_search_analyzer');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone - Merchant #1"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone - Merchant #2"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone - Merchant #3"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone - Merchant #4"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone - Merchant #5"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone - Merchant #1"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone - Merchant #2"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone - Merchant #3"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone - Merchant #4"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone - Merchant #5"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - WP Time Frame - Merchant #1"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - WP Time Frame - Merchant #2"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - WP Time Frame - Merchant #3"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - WP Time Frame - Merchant #4"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - WP Time Frame - Merchant #5"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - WP Time Frame - Merchant #1"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours';
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - WP Time Frame - Merchant #2"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours';
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - WP Time Frame - Merchant #3"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours';
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - WP Time Frame - Merchant #4"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours';
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - WP Time Frame - Merchant #5"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours';
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Task Title/External ID - Merchant #1"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    )
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Task Title/External ID - Merchant #2"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    )
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Task Title/External ID - Merchant #3"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    )
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Task Title/External ID - Merchant #4"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    )
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Task Title/External ID - Merchant #5"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    )
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Task Title/External ID - Merchant #1"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    );
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Task Title/External ID - Merchant #2"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    );
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Task Title/External ID - Merchant #3"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    );
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Task Title/External ID - Merchant #4"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    );
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Task Title/External ID - Merchant #5"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    );
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Task Type ID and WP1 City and WP2 Address - Merchant #1"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp1 on wp1.task_id = t.id and wp1.position=1
    join way_points wp2 on wp2.task_id = t.id and wp2.position=2 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and t.task_type_id=6
    AND match(wp1.city_ngram, 'New') using phrase with (analyzer='full_search_analyzer')
    AND MATCH(wp2.address_ngram, 'South') using phrase with (analyzer='full_search_analyzer')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Task Title/External ID - Merchant #2"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp1 on wp1.task_id = t.id and wp1.position=1
    join way_points wp2 on wp2.task_id = t.id and wp2.position=2 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and t.task_type_id=6
    AND match(wp1.city_ngram, 'New') using phrase with (analyzer='full_search_analyzer')
    AND MATCH(wp2.address_ngram, 'South') using phrase with (analyzer='full_search_analyzer')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Task Title/External ID - Merchant #3"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp1 on wp1.task_id = t.id and wp1.position=1
    join way_points wp2 on wp2.task_id = t.id and wp2.position=2 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and t.task_type_id=6
    AND match(wp1.city_ngram, 'New') using phrase with (analyzer='full_search_analyzer')
    AND MATCH(wp2.address_ngram, 'South') using phrase with (analyzer='full_search_analyzer')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Task Title/External ID - Merchant #4"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp1 on wp1.task_id = t.id and wp1.position=1
    join way_points wp2 on wp2.task_id = t.id and wp2.position=2 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and t.task_type_id=6
    AND match(wp1.city_ngram, 'New') using phrase with (analyzer='full_search_analyzer')
    AND MATCH(wp2.address_ngram, 'South') using phrase with (analyzer='full_search_analyzer')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Task Title/External ID - Merchant #5"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp1 on wp1.task_id = t.id and wp1.position=1
    join way_points wp2 on wp2.task_id = t.id and wp2.position=2 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and t.task_type_id=6
    AND match(wp1.city_ngram, 'New') using phrase with (analyzer='full_search_analyzer')
    AND MATCH(wp2.address_ngram, 'South') using phrase with (analyzer='full_search_analyzer')
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Task Title/External ID - Merchant #1"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp1 on wp1.task_id = t.id and wp1.position=1
    join way_points wp2 on wp2.task_id = t.id and wp2.position=2 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and t.task_type_id=6
    AND match(wp1.city_ngram, 'New') using phrase with (analyzer='full_search_analyzer')
    AND MATCH(wp2.address_ngram, 'South') using phrase with (analyzer='full_search_analyzer');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Task Title/External ID - Merchant #2"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp1 on wp1.task_id = t.id and wp1.position=1
    join way_points wp2 on wp2.task_id = t.id and wp2.position=2 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and t.task_type_id=6
    AND match(wp1.city_ngram, 'New') using phrase with (analyzer='full_search_analyzer')
    AND MATCH(wp2.address_ngram, 'South') using phrase with (analyzer='full_search_analyzer');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Task Title/External ID - Merchant #3"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp1 on wp1.task_id = t.id and wp1.position=1
    join way_points wp2 on wp2.task_id = t.id and wp2.position=2 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and t.task_type_id=6
    AND match(wp1.city_ngram, 'New') using phrase with (analyzer='full_search_analyzer')
    AND MATCH(wp2.address_ngram, 'South') using phrase with (analyzer='full_search_analyzer');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Task Title/External ID - Merchant #4"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp1 on wp1.task_id = t.id and wp1.position=1
    join way_points wp2 on wp2.task_id = t.id and wp2.position=2 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and t.task_type_id=6
    AND match(wp1.city_ngram, 'New') using phrase with (analyzer='full_search_analyzer')
    AND MATCH(wp2.address_ngram, 'South') using phrase with (analyzer='full_search_analyzer');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Task Title/External ID - Merchant #5"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp1 on wp1.task_id = t.id and wp1.position=1
    join way_points wp2 on wp2.task_id = t.id and wp2.position=2 
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and t.task_type_id=6
    AND match(wp1.city_ngram, 'New') using phrase with (analyzer='full_search_analyzer')
    AND MATCH(wp2.address_ngram, 'South') using phrase with (analyzer='full_search_analyzer');
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone and WP Time Frame - Merchant #1"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone and WP Time Frame - Merchant #2"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone and WP Time Frame - Merchant #3"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone and WP Time Frame - Merchant #4"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone and WP Time Frame - Merchant #5"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone and WP Time Frame - Merchant #1"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours';
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone and WP Time Frame - Merchant #2"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours';
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone and WP Time Frame - Merchant #3"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours';
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone and WP Time Frame - Merchant #4"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours';
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone and WP Time Frame - Merchant #5"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours';
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone and WP Time Frame and Task Title/External ID - Merchant #1"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    )
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone and WP Time Frame and Task Title/External ID - Merchant #2"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    )
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone and WP Time Frame and Task Title/External ID - Merchant #3"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    )
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone and WP Time Frame and Task Title/External ID - Merchant #4"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    )
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Customer Phone and WP Time Frame and Task Title/External ID - Merchant #5"
statement = '''
  select 
    distinct t.id
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    )
  limit
    26;
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone and WP Time Frame and Task Title/External ID - Merchant #1"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    );
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone and WP Time Frame and Task Title/External ID - Merchant #2"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    );
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone and WP Time Frame and Task Title/External ID - Merchant #3"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    );
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone and WP Time Frame and Task Title/External ID - Merchant #4"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    );
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Customer Phone and WP Time Frame and Task Title/External ID - Merchant #5"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t 
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
    and match(c.phone_ngram, '12027') using phrase with (analyzer='standard')
    and wp.no_earlier_than <= now() - interval '30 hours'
    and wp.no_later_than >= now() - interval '28 hours'
    and (
      match(t.title_ngram, 'ber') using phrase with (analyzer='full_search_analyzer')
      or match(t.external_id_ngram, 'ber') using phrase with (analyzer='full_search_ngram_analyzer')
    );
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Unnecessary Joins - Merchant #1"
statement = '''
  select 
    distinct t.id 
  from 
    tasks t
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Unnecessary Joins - Merchant #2"
statement = '''
  select 
    distinct t.id 
  from 
    tasks t
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Unnecessary Joins - Merchant #3"
statement = '''
  select 
    distinct t.id 
  from 
    tasks t
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Unnecessary Joins - Merchant #4"
statement = '''
  select 
    distinct t.id 
  from 
    tasks t
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Main Query - Unnecessary Joins - Merchant #5"
statement = '''
  select 
    distinct t.id 
  from 
    tasks t
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
  limit 
    26
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Merchant #1"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 1
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Merchant #2"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 2
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Merchant #3"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 3
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Merchant #4"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 4
'''
iterations = 1000
concurrency = 10

[[queries]]
name = "New History Page Count Query - Merchant #5"
statement = '''
  select 
    count(distinct t.id)
  from 
    tasks t
    join way_points wp on wp.task_id = t.id
    join customers c on c.id = wp.customer_id
  where 
    status IN (4,7) 
    and ended_time > now() - interval '45 days'
    and t.merchant_id = 5
'''
iterations = 1000
concurrency = 10

[teardown]
statement_files = ["sql/bringg_teardown.sql"]
